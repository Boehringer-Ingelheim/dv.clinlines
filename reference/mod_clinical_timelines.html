<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Wrapper that serves as interface for defining an application in the modulemanager — mod_clinical_timelines • dv.clinlines</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Wrapper that serves as interface for defining an application in the modulemanager — mod_clinical_timelines"><meta name="description" content="Wrapper that serves as interface for defining an application in the modulemanager"><meta property="og:description" content="Wrapper that serves as interface for defining an application in the modulemanager"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dv.clinlines</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Basic usage</h6></li>
    <li><a class="dropdown-item" href="../articles/clinlines.html">Include dv.clinlines in an app</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Additional features</h6></li>
    <li><a class="dropdown-item" href="../articles/ae-filter.html">Add custom adverse event filters</a></li>
    <li><a class="dropdown-item" href="../articles/communication.html">Enable communication to DaVinci modules</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Preprocessing</h6></li>
    <li><a class="dropdown-item" href="../articles/data-requirements.html">Data Requirements</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/qc.html">Quality Control</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Wrapper that serves as interface for defining an application in the <span class="pkg">modulemanager</span></h1>

      <div class="d-none name"><code>mod_clinical_timelines.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Wrapper that serves as interface for defining an application in the <span class="pkg">modulemanager</span></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mod_clinical_timelines</span><span class="op">(</span></span>
<span>  <span class="va">module_id</span>,</span>
<span>  basic_info <span class="op">=</span> <span class="fu"><a href="default_basic_info.html">default_basic_info</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu"><a href="default_mapping.html">default_mapping</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  drug_admin <span class="op">=</span> <span class="fu"><a href="default_drug_admin.html">default_drug_admin</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subjid_var <span class="op">=</span> <span class="st">"USUBJID"</span>,</span>
<span>  default_plot_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x_param <span class="op">=</span> <span class="st">"day"</span>, start_day <span class="op">=</span> <span class="cn">NULL</span>, boxheight_val <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>,</span>
<span>  color_palette <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ms <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  receiver_id <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-module-id">module_id<a class="anchor" aria-label="anchor" href="#arg-module-id"></a></dt>
<dd><p><code>[character(1)]</code></p>
<p>A character string that serves as unique identifier for the module.</p></dd>


<dt id="arg-basic-info">basic_info<a class="anchor" aria-label="anchor" href="#arg-basic-info"></a></dt>
<dd><p><code>[list(character(1)+)]</code></p>
<p>A list of four elements: <code>subject_level_dataset_name</code>, <code>trt_start_var</code>,
<code>trt_end_var</code>, and <code>icf_date_var</code>. Assigns the name
of a subject level dataset and column names of treatment start and end, and informed
consent variables.</p></dd>


<dt id="arg-mapping">mapping<a class="anchor" aria-label="anchor" href="#arg-mapping"></a></dt>
<dd><p><code>[list(list(list(character(1)+)))]</code></p>
<p>A list of lists. It serves as instruction on which event to take from
which data domain / dataset, and further from which variables to take the start and
end values, etc., that will be plotted as clinical timelines. Elements need to follow
a certain structure that is described in the Details section below.</p></dd>


<dt id="arg-drug-admin">drug_admin<a class="anchor" aria-label="anchor" href="#arg-drug-admin"></a></dt>
<dd><p><code>[list(character(1)+) | NULL]</code></p>
<p>A list of named character strings that describes which variables to
use to display drug administration events. Set it to NULL to deactivate them.</p></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p><code>[list(list(character(1)+)) | NULL]</code></p>
<p>A list that specifies information for local adverse events filters.
Set to <code>NULL</code> (default) for no filters.</p></dd>


<dt id="arg-subjid-var">subjid_var<a class="anchor" aria-label="anchor" href="#arg-subjid-var"></a></dt>
<dd><p><code>[character(1)]</code></p>
<p>Character name of the unique subject identifier column in
all datasets (default is USUBJID). Must be a single value.</p></dd>


<dt id="arg-default-plot-settings">default_plot_settings<a class="anchor" aria-label="anchor" href="#arg-default-plot-settings"></a></dt>
<dd><p><code>[list(character(1), integer(1), integer(1)) | NULL]</code></p>
<p>A named list containing three elements: <code>x_param</code> contains
either "date" or "day" defining if the x axis shows the date or
study days as default setting at app launch (defaults to "day"), <code>start_day</code>
contains an integer indicating the lower x-axis limit in case of study day display
(defaults to NULL, using the day of the earliest event to be displayed),
<code>boxheight_val</code> contains a value between 30 and 150 defining the initial height of
the individual timeline plot boxes at app launch (defaults to 60).</p></dd>


<dt id="arg-color-palette">color_palette<a class="anchor" aria-label="anchor" href="#arg-color-palette"></a></dt>
<dd><p><code>[character(1+) | NULL]</code></p>
<p>A named vector that specifies the colors for drawing events or intervals.
Each name in the vector should correspond to an entry in the legend.
If <code>NULL</code> (default), the default color palette is used.</p></dd>


<dt id="arg-ms">ms<a class="anchor" aria-label="anchor" href="#arg-ms"></a></dt>
<dd><p><code>[numeric(1)]</code></p>
<p>Single numeric value indicating how many milliseconds to wait before the plot
re-renders. Defaults to 1000.</p></dd>


<dt id="arg-receiver-id">receiver_id<a class="anchor" aria-label="anchor" href="#arg-receiver-id"></a></dt>
<dd><p><code>[character(1) | NULL]</code></p>
<p>Character string defining the ID of the module to which to send a subject ID. The
module must exist in the module list. The default is NULL which disables communication.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing the following elements to be used by the
<span class="pkg">modulemanager</span>:</p><ul><li><p><code>ui</code>: A UI function of the <span class="pkg">dv.clinlines</span> module.</p></li>
<li><p><code>server</code>: A server function of the <span class="pkg">dv.clinlines</span> module.</p></li>
<li><p><code>module_id</code>: A unique identifier.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>basic_info</code> list must contain the following elements:</p><ul><li><p><code>subject_level_dataset_name</code>: Character name of the subject level analysis dataset
(e.g. "adsl", "dm") as it is called in the datalist that is provided to the
<span class="pkg">modulemanager</span>.</p></li>
<li><p><code>trt_start_var</code>: Character name of the variable that contains
treatment start dates which must be present in the dataset mentioned in the
<code>data</code> element.</p></li>
<li><p><code>trt_end_var</code>: Character name of the variable that contains
treatment end dates which must be present in the dataset mentioned in the
<code>data</code> element.</p></li>
<li><p><code>icf_date_var</code>: Character name of the variable that contains
informed consent dates which must be present in the dataset mentioned in the
<code>data</code> element.</p></li>
</ul><p><br></p>
<p>The list provided to <code>mapping</code> must follow a strict hierarchy. It must contain
one entry per dataset/domain that serves as basis for the events. These entries need to
be named according to the names of the datalist that is provided to the
<span class="pkg">modulemanager</span>. The entries by oneself must again be lists. <br>
These second level lists contain the variable names that are needed to plot the events,
gathered in yet another lists, which are named according to the labels that shall be
assigned to each event, and that contain the following elements each:</p><ul><li><p><code>start_dt_var</code>: Character name of the variable that contains
either the event start dates (for interval events) or merely timepoints (e.g.
milestones). The variable name must be present in the dataset under which the
event is listed.</p></li>
<li><p><code>end_dt_var</code>: Character name of the variable that contains
the event end dates. Needs to be provided for interval events, but set to
<code>NULL</code> for timepoints. The variable name must be present in the dataset under
which the event is listed.</p></li>
<li><p><code>start_dy_var</code>: Similar to <code>start_dt_var</code>, but refers to the study
relative days (instead of dates). The variable name must be present in the dataset
under which the event is listed. Can be set to <code>NULL</code> to let the module
calculate the study days according to SDTM standard rules.</p></li>
<li><p><code>end_dy_var</code>: Similar to <code>end_dt_var</code>, but refers to the study
relative days (instead of dates). The variable name must be present in the dataset
under which the event is listed. Can be set to <code>NULL</code> to let the module
calculate the study days according to SDTM standard rules.</p></li>
<li><p><code>detail_var</code>: Character name of the variable that contains further
descriptive information that shall be displayed for the event. Can be set to
<code>NULL</code> for no further information.</p></li>
</ul><p>The structure of the <code>mapping</code> parameters for one single event is mentioned below.
It is possible to define multiple events for one dataset, and multiple datasets in
the mapping list.</p>
<p><code>mapping = list(</code><br><code>  </code><code>&lt;data name&gt; = list</code>(<br><code>  </code><code>  </code><code>&lt;event label&gt; = list</code>(<br><code>  </code><code>  </code><code>  </code><code>start_dt_var = &lt;variable name&gt;,</code><br><code>  </code><code>  </code><code>  </code><code>end_dt_var = &lt;variable name or NULL&gt;,</code><br><code>  </code><code>  </code><code>  </code><code>start_dy_var = &lt;variable name or NULL&gt;,</code><br><code>  </code><code>  </code><code>  </code><code>end_dy_var = &lt;variable name or NULL&gt;,</code><br><code>  </code><code>  </code><code>  </code><code>detail_var = &lt;variable name or NULL&gt;</code><br><code>  </code><code>  </code><code>)</code><br><code>  </code><code>)</code><br><code>)</code></p>
<p><br></p>
<p>If not NULL, the <code>drug_admin</code> list must contain the following elements:</p><ul><li><p><code>dataset_name</code>: Character name of the dataset that holds drug administration data
(e.g. ex domain), as it is called in the datalist that is provided to the
<span class="pkg">modulemanager</span>.</p></li>
<li><p><code>trt_var</code>: Character name of the variable that contains the
treatment name which must be present in the dataset mentioned in the
<code>dataset_name</code> element.</p></li>
<li><p><code>start_var</code>: Character name of the variable that contains the start dates
(e.g. exposure start dates) which must be present in the dataset mentioned in the
<code>dataset_name</code> element.</p></li>
<li><p><code>end_var</code>: Character name of the variable that contains the end dates
(e.g. exposure end dates) which must be present in the dataset mentioned in the
<code>dataset_name</code> element.</p></li>
<li><p><code>detail_var</code>: Character name of the variable that contains the treatment
information. Must exist in the dataset mentioned in the <code>dataset_name</code> element.</p></li>
<li><p><code>label</code>: Free-text character label for the drug administration event.</p></li>
<li><p><code>dose_var</code>: Character name of the variable that contains the dosis level
information. Must exist in the dataset mentioned in the <code>dataset_name</code> element.</p></li>
<li><p><code>dose_unit_var</code>: Character name of the variable that contains the dosis
unit. Must exist in the dataset mentioned in the <code>dataset_name</code> element.</p></li>
</ul><p><br></p>
<p>If not <code>NULL</code>, <code>filter</code> defines local filters.
So far, the following filters for adverse events are available:</p><ul><li><p><code>serious_ae_var</code>: Filter for serious adverse events.</p></li>
<li><p><code>soc_var</code>: Filter for system organ classes.</p></li>
<li><p><code>pref_term_var</code>: Filter for preferred terms.</p></li>
<li><p><code>drug_rel_ae_var</code>: Filter for drug related adverse events.</p></li>
</ul><p>The <code>filter</code> parameter must be a list that contains yet another list for adverse
events filters, that is named <code>ae_filter</code>, and that holds the following elements:</p><ul><li><p><code>dataset_name</code>: Character name of the adverse events dataset. Must be
available in in the datalist that is provided to the <span class="pkg">modulemanager</span>.</p></li>
<li><p><code>label</code>: Character value which is exactly the same as the name for the
adverse events event defined in <code>mapping</code>.</p></li>
<li><p><code>serious_ae_var</code>: Character name of the adverse events variable that contains
serious adverse events flags (Y/N).</p></li>
<li><p><code>soc_var</code>: Character name of the adverse events variable that contains
system organ classes.</p></li>
<li><p><code>pref_term_var</code>: Character name of the adverse events variable that contains
preferred terms.</p></li>
<li><p><code>drug_rel_ae_var</code>: Character name of the adverse events variable that contains
drug related (causality) flags (Y/N).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="mod_clinical_timelines_UI.html">mod_clinical_timelines_UI()</a></code>, <code><a href="mod_clinical_timelines_server.html">mod_clinical_timelines_server()</a></code>,
<code><a href="set_basic_info.html">set_basic_info()</a></code>, <code><a href="set_event.html">set_event()</a></code>, <code><a href="set_drug_admin.html">set_drug_admin()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Boehringer-Ingelheim Pharma GmbH &amp; Co.KG, Isabel Glauss, Jessica Knizia, Korbinian Matthias.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

